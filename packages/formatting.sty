% Formatting and Typography


% Text format
\parindent 1.27cm
\parskip   6pt
%\renewcommand{\baselinestretch}{2}  % Interlineado.


% Font
\RequirePackage{times}
\renewcommand{\normalsize}{\@setfontsize\normalsize\@xiipt\@xivpt}
\newcommand{\XIIIPT}{\@setfontsize\xiiipt{14}{18}}
\newcommand{\XVIPT}{\@setfontsize\xvipt{18}{22}}


% Customization of sections
\renewcommand\section{\@startsection{section}{1}{\z@}%
  {-6\p@ \@plus -4\p@ \@minus -4\p@}%
  {0\p@ \@plus 4\p@ \@minus 4\p@}%
  {\normalfont\XVIPT\bfseries\boldmath
	  \rightskip=\z@ \@plus 8em\pretolerance=10000 }}

\renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
	{-6\p@ \@plus -4\p@ \@minus -4\p@}%
	{0\p@ \@plus 4\p@ \@minus 4\p@}%
	{\normalfont\XIIIPT\bfseries\boldmath
		\rightskip=\z@ \@plus 8em\pretolerance=10000 }}

\renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}%
	{-6\p@ \@plus -4\p@ \@minus -4\p@}%
	{0\p@ \@plus 4\p@ \@minus 4\p@}%
	{\normalfont\normalsize\bfseries\boldmath
		\rightskip=\z@ \@plus 8em\pretolerance=10000 }}

\RequirePackage{titlesec}
\titlelabel{\thetitle.\hspace{1ex}}


% Customization of itemize environment
\RequirePackage{enumitem}
\renewcommand{\labelitemi}{\( \bullet \)}
\renewcommand{\labelitemii}{\( \circ \)}
\renewcommand{\labelitemiii}{\( \diamond \)}
\renewcommand{\labelitemiv}{\(\triangleright\)}


% Hyperlinks
\RequirePackage{hyperref} % Hyperlinks to refs.
\RequirePackage{xcolor} % Color management.
\hypersetup{%
	colorlinks=false,
	linkbordercolor={cyan!40!black},% hyperlink borders
	linkcolor={cyan!40!black}, % Cyan for internal links.
	citecolor={blue!50!black}, % Blue for external hyperlinks.
	urlcolor={blue!80!black} % Dark blue for citations.
}


% First page
\newcounter{instn}
\setcounter{instn}{1}
\newcommand{\instnum}{\arabic{instn}}
\newcommand{\inst}[1]{\ensuremath{^{#1}}}
\newcommand{\nextinstitute}{\\\mbox{}\\[-6pt] \addtocounter{instn}{1}\inst{\instnum}}
\newcommand{\email}[1]{\\\mbox{}\\[-6pt]\footnotesize\href{mailto:#1}{\texttt{#1}}}
\renewcommand{\and}{, }

\newcommand{\authortag}[1]{$^{#1}$}

\def\address#1{\gdef\@address{#1}}

\def\@maketitle{\newpage
	\begin{center}
		\vspace*{-.7cm}
		{\XVIPT\bf\@title\par}
		\vglue 6pt plus 3pt minus 3pt
			{\normalsize
				\textbf{\begin{tabular}[t]{c}\@author\end{tabular}}\par}
		\vspace*{-.3cm}
		{\footnotesize\texttt{\begin{tabular}[t]{c}\@email\end{tabular}}\par}
		\vglue 6pt plus 3pt minus 3pt
			{\normalsize
				\begin{tabular}[t]{c}\inst{\instnum}\@address\end{tabular}\par}
		\vglue 6pt plus 3pt minus 3pt
	\end{center}\par
}

\def\email#1{\gdef\@email{#1}}

\let\maketitleOLD\maketitle
\renewcommand{\maketitle}{\maketitleOLD\thispagestyle{empty}}


% Epigraphs
\RequirePackage{epigraph}
\setlength\epigraphwidth{.8\textwidth}
\setlength\epigraphrule{0pt}


% Code formatting
\RequirePackage{minted}

\definecolor{codecolor}{HTML}{FFC300}

\RequirePackage{tcolorbox}
\tcbuselibrary{most,listingsutf8,minted}

\tcbset{tcbox width=auto,left=1mm,top=1mm,bottom=1mm,
	right=1mm,boxsep=1mm,middle=1pt}

\newtcblisting{myr}[1]{colback=codecolor!5,colframe=codecolor!80!black,listing only,
	minted options={numbers=left, style=tcblatex,fontsize=\tiny,breaklines,autogobble,linenos,numbersep=3mm},
	left=5mm,enhanced,
	title=#1, fonttitle=\bfseries,
	listing engine=minted,minted language=r}


% Page format
\RequirePackage[a4paper,top=3.5cm,left=3cm,right=3cm,bottom=2.5cm]{geometry}

\RequirePackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[OL]{\normalsize \textbf{\thepage} \quad \textcolor{green!50!black}{\(\bullet\)}  \quad \textsf{Desarrollo del Perfil del estudiante} \hbox{  }}
\setlength{\headheight}{14.39998pt} % Avoids a warning about the headheight.
\fancyhead[OR]{}
\fancyhead[EL]{}
\fancyhead[ER]{\normalsize \textsf{Federico Melo Barrero} \quad \textcolor{green!50!black}{\(\bullet\)} \quad \textbf{\thepage}}


% Get bookmarks right without rerunning 
\RequirePackage{bookmark}

% Use symbols instead of numbers for footnotes
\renewcommand{\thefootnote}{\fnsymbol{footnote}}